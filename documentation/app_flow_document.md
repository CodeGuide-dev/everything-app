# App Flow Document

## Onboarding and Sign-In/Sign-Up
When a new user arrives at the application, they first land on the public entry point at the root URL, which doubles as a simple landing page featuring a prominent button to sign up or sign in. A click on the “Sign Up” link takes the user to the email-based registration form. Here the user is prompted to enter a valid email address and choose a secure password. Upon submitting the form, the application calls the authentication API endpoint, creates a new user record in the database, and establishes a session before redirecting the user to the main dashboard. If the user already has an account, they may instead click the “Sign In” link to reach a page where they input their credentials. After providing the registered email and correct password, the credentials are verified against the authentication service, a session cookie is set, and the user is sent to the dashboard. Should the user forget their password, they can click the “Forgot your password?” link on the sign-in page. This leads to a form to request a password reset email. Upon submitting their email address, the system dispatches a reset link. The user clicks that link, is redirected to a secure password reset page, chooses a new password, and regains access to the application. At any point after signing in, clicking the user avatar in the top header reveals a sign-out option that invalidates the session and brings the user back to the landing page.

## Main Dashboard or Home Page
Once authenticated, the user is directed to the dashboard at `/dashboard`. This page sports a consistent header across the entire application containing the logo on the left, a theme toggle button on the right, and the user avatar with a dropdown menu for settings or sign-out. To the left, a vertical navigation sidebar lists the main sections: Chat, API Keys, and Settings. The central area of the dashboard features preview cards for the AI Chat tool and the API Key Manager. The user can click on any preview card or select the corresponding item in the sidebar to navigate deeper into that feature. The layout ensures that switching from one tool to another preserves the overall app structure, with header and sidebar remaining constant while the main content area updates.

## Detailed Feature Flows and Page Transitions
### AI Chat Interface
When the user clicks “Chat” in the sidebar, the application navigates to `/chat`. The chat page loads the list of existing chat sessions in a collapsible panel on the left. If the user has no prior sessions, the panel shows a prompt to start a new conversation. Tapping “New Session” creates a fresh chat session via an API call and immediately displays an empty message thread on the right. The user types a question or prompt into the input field at the bottom, selects an AI model from a dropdown, and presses Enter or clicks “Send.” Under the hood, the front end calls the `/api/chat` endpoint, which relays the user’s message to the AI service. As the AI responds, the interface streams the content in real time, rendering each incoming token or chunk in the thread. Both the user’s message and the AI’s response are saved to the database so that when the user switches to another session and returns later, the full conversation is preserved. The user may switch between sessions by clicking session titles in the left panel, triggering a smooth transition that updates the thread area without a full page reload.

### API Key Management
Selecting “API Keys” in the sidebar loads the page at `/dashboard/api-keys`. Here the user sees a list of previously generated keys displayed in a table with columns for key name, creation date, and status. A button labeled “Create Key” opens a modal form where the user specifies a friendly name and any access scopes. Submitting the form invokes the `/api/keys` POST route, which generates a new API key, stores it in the database, and returns the key value. The newly created key appears at the top of the list and the user can copy it to the clipboard. Each key row includes a “Revoke” button. Clicking revoke sends a DELETE request to `/api/keys` with the key identifier, marking it as revoked and removing it from active use. The UI updates immediately to reflect the removal.

## Settings and Account Management
Accessing account settings is done by opening the user menu from the header and clicking “Settings,” which navigates to `/settings`. On this page, the user can view their registered email address and choose to change their password by entering the current password and a new one. A form to toggle notification preferences or update profile details appears below, allowing the user to enable or disable email alerts or switch between light and dark themes by default. Once the user submits updates, the application sends the data to dedicated API routes under `/api/auth` or `/api/user`, saves the changes, and displays a confirmation message. Clicking “Back to Dashboard” in the page header returns the user to the main dashboard view.

## Error States and Alternate Paths
Whenever a user submits a form with invalid or incomplete data—such as a malformed email, too-short password, or missing chat message—the application displays inline error messages near the relevant input field. During sign-in, if the credentials do not match, a banner appears at the top of the form advising of invalid login information. On network failure or server errors, toast notifications slide into view explaining that something went wrong and prompting the user to retry. If an authenticated user manually navigates to `/dashboard` or `/chat` without a valid session cookie, the server-side logic immediately redirects them back to `/sign-in`. Within the chat interface, if the AI service fails or times out, the user sees a fallback message in the thread area indicating that the response could not be fetched, along with a button to resend the request. In the API Key Manager, attempting to revoke an already revoked key results in a non-blocking alert explaining the key could not be found. In every case, the user is guided back to a stable state or given clear instructions to recover.

## Conclusion and Overall App Journey
From the moment a newcomer lands on the app’s public page, the path is clear: sign up or sign in, follow the redirection to a well-structured dashboard, and choose between the AI Chat interface or the API Key Manager. Within the chat, users create sessions, send messages, and receive streaming AI responses, all saved for future reference. In the key manager, they generate and revoke keys with minimal friction. If they need to update their account details or reset their password, they do so in the Settings page accessible from the header. Throughout, consistent error handling and session checks ensure the user always knows what to do if something goes wrong. The typical end goal—whether that is engaging in a productive AI conversation, generating secure API credentials, or updating profile preferences—flows naturally from the dashboard, making everyday usage straightforward and reliable.